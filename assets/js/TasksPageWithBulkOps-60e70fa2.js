import{c as Ke,u as Rs,a as _e,r as i,g as qs,b as Qs,d as Gs,e as Ys,f as We,j as e,B as n,A as He,h as Re,i as Zs,C as qe,S as Vs,P as pe,H as Xs,k as Js,F as Ks,l as _s,m as ye,n as et,o as Qe,T as Ge,L as ke,p as st,q as Ye,Q as tt,s as at,X as Ze,t as rt,Z as it,v as nt,w as Ve,E as lt,M as P,x as dt,y as ot,z as ct,D as mt,G as xt}from"./main-f3190d85.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Ke("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=Ke("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),Je=({task:C,isSelected:c,onSelectChange:k,onEdit:B,onDelete:F,onBreakdown:X,onConvertToProject:$})=>{const{updateTask:J}=_e();return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-2 top-4 z-10",children:e.jsx("input",{type:"checkbox",checked:c,onChange:K=>k(K.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),e.jsx("div",{className:"ml-8",children:e.jsx(mt,{task:C,onToggle:()=>J({...C,completed:!C.completed}),onEdit:B,onDelete:F,onBreakdown:X,onConvertToProject:$})})]})},pt=()=>{const C=Rs(),{tasks:c,projects:k,categories:B,deleteTask:F,undoDelete:X,hasRecentlyDeleted:$,archiveCompletedTasks:J,bulkDeleteTasks:K,bulkCompleteTasks:es,bulkMoveTasks:ss,bulkArchiveTasks:ts,bulkAddTasks:as,bulkConvertToSubtasks:rs,bulkAssignCategories:is}=_e(),je=new URLSearchParams(C.search),ns=je.get("tab"),ls=je.get("categoryId"),ds=ns||"all",[os,fe]=i.useState(!1),[_,ee]=i.useState(null),[cs,se]=i.useState(!1),[ms,te]=i.useState(!1),[E,xs]=i.useState(!1),[r,h]=i.useState(new Set),[hs,O]=i.useState(!1),[be,ve]=i.useState(null),[u,ae]=i.useState(null),[p,re]=i.useState(null),[gs,L]=i.useState(!1),[T,U]=i.useState(null),[,us]=i.useState([]),[ps,W]=i.useState(!1),[b,S]=i.useState([]),[ie,z]=i.useState("add"),[ne,we]=i.useState(!1),[le,Ne]=i.useState(!1),[v,Ce]=i.useState(null),[A,Te]=i.useState(ls),[Se,ys]=i.useState(!1),[o,j]=i.useState(ds),[l,w]=i.useState("dueDate"),[m,x]=i.useState("asc"),[H,ze]=i.useState(!1),de=i.useRef(null),[y,D]=i.useState("smart"),[oe,ks]=i.useState("medium"),[M,Ae]=i.useState(!1);i.useEffect(()=>{if($){se(!0);const s=setTimeout(()=>{se(!1)},5e3);return()=>clearTimeout(s)}},[$]),i.useEffect(()=>{o==="deleted"&&js()},[o]),i.useEffect(()=>{const s=t=>{de.current&&!de.current.contains(t.target)&&ze(!1)};return H&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[H]);const js=()=>{const s=qs();us(s.sort((t,a)=>new Date(a.deletedAt).getTime()-new Date(t.deletedAt).getTime()))},R=s=>{ee(s||null),fe(!0)},De=()=>{fe(!1),ee(null)},Me=s=>{F(s)},fs=()=>{X(),se(!1)},Ie=()=>{ys(!Se)},bs=()=>{we(!1),Ne(!1),Ce(null),Te(null)},vs=()=>{c.filter(t=>t.completed&&!t.archived).length>0&&te(!0)},Pe=()=>{te(!1)},ws=()=>{J(),te(!1)},Be=s=>{ae(s)},Ns=async s=>{if(u){const t=s.map(a=>({...a,parentTaskId:u.id,projectId:u.projectId,categoryIds:u.categoryIds||[],dueDate:a.dueDate||u.dueDate||null,priority:a.priority||u.priority||"medium",energyLevel:a.energyLevel||u.energyLevel,estimatedMinutes:a.estimatedMinutes,tags:a.tags||[]}));as(t),ae(null)}},Cs=()=>{ae(null)},Fe=s=>{re(s)},Ts=async(s,t)=>{if(p)try{const a=await addProject(s),g=c.filter(d=>d.parentTaskId===p.id);if(t.moveToProject&&await updateTask({...p,projectId:a.id,parentTaskId:null}),t.includeSubtasks&&g.length>0)for(const d of g)await updateTask({...d,projectId:a.id,parentTaskId:t.moveToProject?p.id:null});if(t.createPhases){const d=["Planning","Execution","Review"];for(const[V,f]of d.entries())await addTask({title:`${f} Phase`,description:`${f} phase for ${a.name}`,projectId:a.id,phase:f,phaseOrder:V,tags:[f.toLowerCase()],completed:!1,archived:!1,categoryIds:p.categoryIds||[],dueDate:null,startDate:null,parentTaskId:null,priority:"medium",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}t.deleteOriginalTask&&!t.moveToProject&&await F(p.id),re(null)}catch(a){console.error("Failed to convert task to project:",a)}},Ss=()=>{re(null)},$e=s=>{const t=new Set(r);t.has(s)?t.delete(s):t.add(s),h(t)},zs=()=>{const s=new Set(Le().map(t=>t.id));h(s)},As=()=>{h(new Set)},Ds=()=>{r.size>0&&(K(Array.from(r)),h(new Set))},Ms=()=>{r.size>0&&(es(Array.from(r)),h(new Set))},Is=()=>{O(!0)},Ps=()=>{r.size>0&&(ss(Array.from(r),be),h(new Set),O(!1),ve(null))},Bs=()=>{r.size>0&&(ts(Array.from(r)),h(new Set))},Fs=()=>{L(!0)},$s=()=>{r.size>0&&T&&(rs(Array.from(r),T),h(new Set),L(!1),U(null))},Es=()=>{W(!0)},Os=()=>{r.size>0&&b.length>0&&(is(Array.from(r),b,ie),h(new Set),W(!1),S([]),z("add"))},Ee=()=>{const s=new Date;return s.setDate(s.getDate()+1),We(s)},Ls=s=>{const t=Ee();return s.filter(a=>a.dueDate===t&&!a.completed&&!a.archived)},N=s=>M?xt(s,y,oe):[...s].sort((a,g)=>{var V,f;let d=0;switch(l){case"dueDate":!a.dueDate&&!g.dueDate?d=0:a.dueDate?g.dueDate?d=a.dueDate.localeCompare(g.dueDate):d=-1:d=1;break;case"priority":const Ue={high:3,medium:2,low:1};d=(Ue[g.priority||"medium"]||2)-(Ue[a.priority||"medium"]||2);break;case"createdAt":d=new Date(g.createdAt).getTime()-new Date(a.createdAt).getTime();break;case"title":d=a.title.localeCompare(g.title);break;case"estimatedMinutes":const Us=a.estimatedMinutes||0;d=(g.estimatedMinutes||0)-Us;break;case"project":const Ws=((V=k.find(ue=>ue.id===a.projectId))==null?void 0:V.name)||"",Hs=((f=k.find(ue=>ue.id===g.projectId))==null?void 0:f.name)||"";d=Ws.localeCompare(Hs);break}return m==="asc"?d:-d}),I=s=>{var t;return!(v&&s.projectId!==v||A&&!((t=s.categoryIds)!=null&&t.includes(A)))},q=Qs(c).filter(s=>!s.archived).filter(I),Q=Gs(c).filter(s=>!s.archived).filter(I),G=Ls(c).filter(I),Y=Ys(c).filter(s=>s.dueDate!==We(new Date)&&s.dueDate!==Ee()).filter(s=>!s.archived).filter(I),Oe=c.filter(s=>(ne||!s.completed)&&(le||!s.archived)&&(!s.dueDate||!q.some(t=>t.id===s.id)&&!Q.some(t=>t.id===s.id)&&!G.some(t=>t.id===s.id)&&!Y.some(t=>t.id===s.id))).filter(I),Z=N(q),ce=N(Q),me=N(G),xe=N(Y),Le=()=>{switch(o){case"today":return ce;case"tomorrow":return me;case"week":return xe;case"overdue":return Z;case"all":const s=[...q,...Q,...G,...Y,...Oe];return N(s);default:const t=[...q,...Q,...G,...Y,...Oe];return N(t)}},he=Le(),ge=he.filter(s=>!s.parentTaskId);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Tasks"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[he.length," task",he.length!==1?"s":"",(v||A)&&" (filtered)",r.size>0&&` • ${r.size} selected`,l!=="dueDate"&&` • Sorted by ${l==="createdAt"?"created date":l==="estimatedMinutes"?"time estimate":l}`]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[e.jsx(n,{variant:E?"secondary":"outline",onClick:()=>xs(!E),children:E?"Hide Bulk Actions":"Bulk Actions"}),e.jsx(n,{variant:"secondary",icon:e.jsx(He,{size:16}),onClick:vs,children:"Archive Completed"}),e.jsx(n,{variant:M?"primary":"secondary",icon:e.jsx(Re,{size:16}),onClick:()=>Ae(!M),children:"Smart Sort"}),e.jsxs("div",{className:"relative",ref:de,children:[e.jsx(n,{variant:"secondary",icon:e.jsx(Zs,{size:16}),onClick:()=>ze(!H),children:M?"Legacy Sort":"Sort"}),H&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 z-10",children:e.jsxs("div",{className:"py-1",role:"menu",children:[e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${l==="dueDate"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{l==="dueDate"?x(m==="asc"?"desc":"asc"):(w("dueDate"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(qe,{size:16,className:"mr-2"}),"Due Date"]}),l==="dueDate"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"↑":"↓"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${l==="priority"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{l==="priority"?x(m==="asc"?"desc":"asc"):(w("priority"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Vs,{size:16,className:"mr-2"}),"Priority"]}),l==="priority"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"↑":"↓"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${l==="createdAt"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{l==="createdAt"?x(m==="asc"?"desc":"asc"):(w("createdAt"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(pe,{size:16,className:"mr-2"}),"Created Date"]}),l==="createdAt"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"↑":"↓"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${l==="title"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{l==="title"?x(m==="asc"?"desc":"asc"):(w("title"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Xs,{size:16,className:"mr-2"}),"Title"]}),l==="title"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"↑":"↓"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${l==="estimatedMinutes"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{l==="estimatedMinutes"?x(m==="asc"?"desc":"asc"):(w("estimatedMinutes"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Js,{size:16,className:"mr-2"}),"Time Estimate"]}),l==="estimatedMinutes"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"↑":"↓"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${l==="project"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{l==="project"?x(m==="asc"?"desc":"asc"):(w("project"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ks,{size:16,className:"mr-2"}),"Project"]}),l==="project"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"↑":"↓"})]})]})})]}),e.jsx(n,{variant:"secondary",icon:e.jsx(_s,{size:16}),onClick:Ie,children:"Filter"}),e.jsx(n,{variant:"primary",icon:e.jsx(pe,{size:16}),onClick:()=>R(),children:"New Task"})]})]}),E&&e.jsx(ye,{className:"bg-indigo-50",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{size:"sm",variant:"outline",onClick:zs,children:"Select All"}),e.jsx(n,{size:"sm",variant:"outline",onClick:As,children:"Deselect All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.size," selected"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{size:"sm",variant:"primary",icon:e.jsx(et,{size:14}),onClick:Ms,disabled:r.size===0,children:"Complete"}),e.jsx(n,{size:"sm",variant:"secondary",icon:e.jsx(Qe,{size:14}),onClick:Is,disabled:r.size===0,children:"Move"}),e.jsx(n,{size:"sm",variant:"secondary",icon:e.jsx(Ge,{size:14}),onClick:Es,disabled:r.size===0,children:"Categories"}),e.jsx(n,{size:"sm",variant:"secondary",icon:e.jsx(ke,{size:14}),onClick:Fs,disabled:r.size===0,children:"Make Subtasks"}),e.jsx(n,{size:"sm",variant:"secondary",icon:e.jsx(st,{size:14}),onClick:Bs,disabled:r.size===0,children:"Archive"}),e.jsx(n,{size:"sm",variant:"danger",icon:e.jsx(Ye,{size:14}),onClick:Ds,disabled:r.size===0,children:"Delete"})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx(tt,{placeholder:"Add a task quickly... (try !today, !tomorrow, !high)",defaultProjectId:v,onTaskAdded:()=>{o==="today"||o==="all"||j("all")}})}),e.jsx("div",{className:"overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:e.jsxs("div",{className:"flex min-w-max border-b border-gray-200",children:[e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${o==="today"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("today"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["Today",ce.length>0&&` (${ce.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${o==="tomorrow"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("tomorrow"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["Tomorrow",me.length>0&&` (${me.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${o==="week"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("week"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["This Week",xe.length>0&&` (${xe.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${o==="overdue"?"border-red-500 text-red-600 bg-red-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("overdue"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(at,{size:16,className:Z.length>0?"text-red-500":""}),e.jsxs("span",{className:"whitespace-nowrap",children:["Overdue",Z.length>0&&` (${Z.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${o==="all"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("all"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ke,{size:16}),e.jsx("span",{className:"whitespace-nowrap",children:"All Tasks"})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${o==="deleted"?"border-gray-500 text-gray-600 bg-gray-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>j("deleted"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{size:16}),e.jsx("span",{className:"whitespace-nowrap",children:"Deleted"})]})})]})}),e.jsx("style",{children:`
        .hide-scrollbar {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        .hide-scrollbar::-webkit-scrollbar {
          display: none;  /* Chrome, Safari, Opera */
        }
      `}),cs&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-3 z-50",children:[e.jsx("span",{children:"Task deleted"}),e.jsx(n,{variant:"secondary",size:"sm",icon:e.jsx(ht,{size:14}),onClick:fs,children:"Undo"})]}),Se&&e.jsx(ye,{className:"bg-gray-50",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",onClick:Ie,children:e.jsx(Ze,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Status"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showCompleted",checked:ne,onChange:()=>we(!ne),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showCompleted",className:"ml-2 text-sm text-gray-700",children:"Show completed tasks"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showArchived",checked:le,onChange:()=>Ne(!le),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showArchived",className:"ml-2 text-sm text-gray-700",children:"Show archived tasks"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"projectFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project"}),e.jsxs("select",{id:"projectFilter",value:v||"",onChange:s=>Ce(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Projects"}),k.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"categoryFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{id:"categoryFilter",value:A||"",onChange:s=>Te(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Categories"}),B.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(n,{variant:"secondary",size:"sm",onClick:bs,children:"Clear Filters"})})]})}),M&&e.jsx(ye,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[e.jsx(Re,{size:20,className:"mr-2 text-purple-600 dark:text-purple-400"}),"Smart Task Prioritization"]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",onClick:()=>Ae(!1),children:e.jsx(Ze,{size:20})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(rt,{size:16,className:"inline mr-1"}),"Your Current Energy Level"]}),e.jsx("div",{className:"flex gap-2",children:["low","medium","high"].map(s=>e.jsxs("button",{onClick:()=>ks(s),className:`px-4 py-2 rounded-lg font-medium transition-all ${oe===s?"bg-purple-600 text-white shadow-lg scale-105":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20"}`,children:[s==="low"&&"🔋 Low",s==="medium"&&"🔋🔋 Medium",s==="high"&&"🔋🔋🔋 High"]},s))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(it,{size:16,className:"inline mr-1"}),"Prioritization Strategy"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{mode:"smart",label:"🧠 Smart Sort",desc:"AI-optimized task ordering"},{mode:"energymatch",label:"🔋 Energy Match",desc:"Only matching tasks"},{mode:"quickwins",label:"⚡ Quick Wins",desc:"Build momentum"},{mode:"eatthefrog",label:"🐸 Eat the Frog",desc:"Hard tasks first"},{mode:"deadline",label:"⏰ Deadline Focus",desc:"Due date priority"},{mode:"priority",label:"⭐ Priority",desc:"Traditional priority"}].map(({mode:s,label:t,desc:a})=>e.jsxs("button",{onClick:()=>D(s),className:`p-3 rounded-lg text-left transition-all ${y===s?"bg-purple-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 border border-gray-200 dark:border-gray-700"}`,children:[e.jsx("div",{className:"font-medium text-sm",children:t}),e.jsx("div",{className:`text-xs mt-1 ${y===s?"text-purple-100":"text-gray-500 dark:text-gray-400"}`,children:a})]},s))})]}),(()=>{const s=nt(c,oe),t=c.filter(a=>!a.completed&&!a.archived);return e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 w-full",children:["Quick Filters (",t.length," active tasks):"]}),e.jsxs("button",{onClick:()=>D("quickwins"),className:`px-3 py-1 rounded-full text-sm transition-all ${y==="quickwins"?"bg-green-500 text-white":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/30"}`,children:["⚡ Quick Wins (",s.quickWins,")"]}),e.jsxs("button",{onClick:()=>D("deadline"),className:`px-3 py-1 rounded-full text-sm transition-all ${y==="deadline"?"bg-red-500 text-white":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/30"}`,children:["🔥 Due Today (",s.dueToday,")"]}),e.jsxs("button",{onClick:()=>D("eatthefrog"),className:`px-3 py-1 rounded-full text-sm transition-all ${y==="eatthefrog"?"bg-orange-500 text-white":"bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-900/30"}`,children:["💪 High Energy (",s.highEnergy,")"]}),s.energyMatch>0&&e.jsxs("button",{onClick:()=>D("energymatch"),className:`px-3 py-1 rounded-full text-sm transition-all ${y==="energymatch"?"bg-blue-500 text-white":"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/30"}`,children:["🔋 Energy Match (",s.energyMatch,")"]})]})})(),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Current Strategy: ",Ve(y).name]}),e.jsx("p",{children:Ve(y).description})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:e.jsx("div",{className:"space-y-4",children:ge.length>0?e.jsx("div",{children:o==="all"?e.jsx("div",{className:"space-y-2",children:ge.map(s=>e.jsx(Je,{task:s,isSelected:r.has(s.id),onSelectChange:t=>{if(t)$e(s.id);else{const a=new Set(r);a.delete(s.id),h(a)}},onEdit:R,onDelete:Me,onBreakdown:Be,onConvertToProject:Fe},s.id))}):e.jsx("div",{className:"space-y-2",children:ge.map(s=>e.jsx(Je,{task:s,isSelected:r.has(s.id),onSelectChange:t=>{if(t)$e(s.id);else{const a=new Set(r);a.delete(s.id),h(a)}},onEdit:R,onDelete:Me,onBreakdown:Be,onConvertToProject:Fe},s.id))})}):e.jsx(lt,{title:"No tasks found",description:v||A?"Try adjusting your filters or create a new task":o==="today"?"No tasks due today. Add a task or check another tab.":o==="tomorrow"?"No tasks due tomorrow. Add a task or check another tab.":o==="week"?"No tasks due this week. Add a task or check another tab.":o==="overdue"?"No overdue tasks. You're all caught up!":"Get started by creating your first task",action:e.jsx(n,{variant:"primary",size:"sm",icon:e.jsx(pe,{size:16}),onClick:()=>R(),children:"New Task"})})})}),e.jsx(P,{isOpen:os,onClose:De,title:_?"Edit Task":"Create New Task",size:"3xl",children:e.jsx(dt,{task:_||void 0,onClose:De,isEdit:!!_})}),e.jsx(P,{isOpen:ms,onClose:Pe,title:"Archive Completed Tasks",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"This will archive all completed tasks. Archived tasks will be hidden by default but can still be viewed using the filter."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(n,{variant:"secondary",onClick:Pe,children:"Cancel"}),e.jsx(n,{variant:"primary",icon:e.jsx(He,{size:16}),onClick:ws,children:"Archive Tasks"})]})]})}),e.jsx(P,{isOpen:hs,onClose:()=>O(!1),title:"Move Selected Tasks",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Move ",r.size," selected task",r.size!==1?"s":""," to:"]}),e.jsxs("select",{value:be||"",onChange:s=>ve(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"No Project"}),k.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(n,{variant:"secondary",onClick:()=>O(!1),children:"Cancel"}),e.jsx(n,{variant:"primary",icon:e.jsx(Qe,{size:16}),onClick:Ps,children:"Move Tasks"})]})]})}),u&&e.jsx(ot,{task:u,onAccept:Ns,onClose:Cs}),p&&e.jsx(ct,{task:p,onConfirm:Ts,onCancel:Ss,subtasks:c.filter(s=>s.parentTaskId===p.id)}),e.jsx(P,{isOpen:gs,onClose:()=>{L(!1),U(null)},title:"Convert to Subtasks",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Convert ",r.size," selected task",r.size!==1?"s":""," into subtasks of:"]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2 border rounded-md p-3",children:c.filter(s=>!s.completed&&!s.archived&&!r.has(s.id)).map(s=>{var t;return e.jsxs("label",{className:`flex items-start p-3 rounded-lg cursor-pointer transition-colors ${T===s.id?"bg-indigo-50 border-2 border-indigo-500":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[e.jsx("input",{type:"radio",name:"parentTask",value:s.id,checked:T===s.id,onChange:()=>U(s.id),className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.title}),s.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:s.description}),s.projectId&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Project: ",(t=k.find(a=>a.id===s.projectId))==null?void 0:t.name]})]})]},s.id)})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(n,{variant:"secondary",onClick:()=>{L(!1),U(null)},children:"Cancel"}),e.jsx(n,{variant:"primary",icon:e.jsx(ke,{size:16}),onClick:$s,disabled:!T,children:"Convert to Subtasks"})]})]})}),e.jsx(P,{isOpen:ps,onClose:()=>{W(!1),S([]),z("add")},title:"Assign Categories",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Assign categories to ",r.size," selected task",r.size!==1?"s":"",":"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assignment Mode"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"add",checked:ie==="add",onChange:()=>z("add"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Add to existing categories"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"replace",checked:ie==="replace",onChange:()=>z("replace"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Replace all existing categories"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Categories"}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border rounded-md p-3",children:B.map(s=>e.jsxs("label",{className:"flex items-center p-2 rounded hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:b.includes(s.id),onChange:t=>{t.target.checked?S([...b,s.id]):S(b.filter(a=>a!==s.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx("div",{className:"h-4 w-4 rounded mr-2",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-sm text-gray-900",children:s.name})]})]},s.id))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(n,{variant:"secondary",onClick:()=>{W(!1),S([]),z("add")},children:"Cancel"}),e.jsx(n,{variant:"primary",icon:e.jsx(Ge,{size:16}),onClick:Os,disabled:b.length===0,children:"Assign Categories"})]})]})})]})};export{pt as default};
//# sourceMappingURL=TasksPageWithBulkOps-60e70fa2.js.map
