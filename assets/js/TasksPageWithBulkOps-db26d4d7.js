import{c as is,r,j as e,M as I,L as ae,C as H,B as l,F as qs,u as Qs,a as ls,g as Gs,b as Ys,d as Zs,e as Ks,f as Ze,A as Ke,h as Ve,i as Vs,k as Xe,S as Xs,P as Ne,H as Js,l as _s,m as et,n as st,o as Ce,p as tt,q as Je,T as _e,s as at,t as es,Q as rt,v as it,X as ss,w as lt,Z as nt,x as dt,y as ts,E as ot,z as ct,D as xt,G as mt,I as ht}from"./main-af13324a.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=is("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=is("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),ut=({task:p,onConfirm:x,onCancel:y,subtasks:h=[]})=>{const[b,F]=r.useState(p.title),[N,B]=r.useState(p.description),[S,re]=r.useState("#3B82F6"),[o,z]=r.useState({includeSubtasks:h.length>0,createPhases:!1,deleteOriginalTask:!1,moveToProject:!0}),ie=["#EF4444","#F97316","#F59E0B","#10B981","#3B82F6","#6366F1","#8B5CF6","#EC4899"],le=()=>{x({name:b,description:N,color:S},o)};return e.jsx(I,{isOpen:!0,onClose:y,title:"Convert Task to Project",size:"medium",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Converting Task:"}),e.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-medium",children:p.title}),p.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:p.description}),h.length>0&&e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 mt-2",children:[e.jsx(ae,{className:"inline w-4 h-4 mr-1"}),h.length," subtask",h.length!==1?"s":""," found"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Name"}),e.jsx("input",{type:"text",value:b,onChange:d=>F(d.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter project name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Project Description"}),e.jsx("textarea",{value:N,onChange:d=>B(d.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter project description",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project Color"}),e.jsx("div",{className:"flex gap-2",children:ie.map(d=>e.jsx("button",{onClick:()=>re(d),className:`w-8 h-8 rounded-full border-2 ${S===d?"border-gray-900 dark:border-white":"border-gray-300 dark:border-gray-600"}`,style:{backgroundColor:d},"aria-label":`Select color ${d}`},d))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Conversion Options"}),h.length>0&&e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:o.includeSubtasks,onChange:d=>z({...o,includeSubtasks:d.target.checked}),className:"h-4 w-4 text-blue-600 rounded"}),e.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Include all ",h.length," subtasks in the project"]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:o.moveToProject,onChange:d=>z({...o,moveToProject:d.target.checked}),className:"h-4 w-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Keep original task as first project task"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:o.createPhases,onChange:d=>z({...o,createPhases:d.target.checked}),className:"h-4 w-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Create project phases (Planning, Execution, Review)"})]}),!o.moveToProject&&e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:o.deleteOriginalTask,onChange:d=>z({...o,deleteOriginalTask:d.target.checked}),className:"h-4 w-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Delete original task after conversion"})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 dark:text-blue-300 mb-2",children:"What will happen:"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-400",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(H,{className:"w-4 h-4 mr-1 mt-0.5 flex-shrink-0"}),'A new project "',b,'" will be created']}),o.moveToProject&&e.jsxs("li",{className:"flex items-start",children:[e.jsx(H,{className:"w-4 h-4 mr-1 mt-0.5 flex-shrink-0"}),"The original task will be moved to this project"]}),o.includeSubtasks&&h.length>0&&e.jsxs("li",{className:"flex items-start",children:[e.jsx(H,{className:"w-4 h-4 mr-1 mt-0.5 flex-shrink-0"}),h.length," subtask",h.length!==1?"s":""," will be moved to the project"]}),o.createPhases&&e.jsxs("li",{className:"flex items-start",children:[e.jsx(H,{className:"w-4 h-4 mr-1 mt-0.5 flex-shrink-0"}),"Project phases will be created for better organization"]}),o.deleteOriginalTask&&!o.moveToProject&&e.jsxs("li",{className:"flex items-start",children:[e.jsx(H,{className:"w-4 h-4 mr-1 mt-0.5 flex-shrink-0"}),"The original task will be deleted"]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(l,{onClick:y,variant:"secondary",children:"Cancel"}),e.jsx(l,{onClick:le,variant:"primary",disabled:!b.trim(),icon:e.jsx(qs,{size:16}),children:"Create Project"})]})]})})},rs=({task:p,isSelected:x,onSelectChange:y,onEdit:h,onDelete:b,onBreakdown:F,onConvertToProject:N})=>{const{updateTask:B}=ls();return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-2 top-4 z-10",children:e.jsx("input",{type:"checkbox",checked:x,onChange:S=>y(S.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),e.jsx("div",{className:"ml-8",children:e.jsx(mt,{task:p,onToggle:()=>B({...p,completed:!p.completed}),onEdit:h,onDelete:b,onBreakdown:F,onConvertToProject:N})})]})},kt=()=>{const p=Qs(),{tasks:x,projects:y,categories:h,deleteTask:b,undoDelete:F,hasRecentlyDeleted:N,archiveCompletedTasks:B,bulkDeleteTasks:S,bulkCompleteTasks:re,bulkMoveTasks:o,bulkArchiveTasks:z,bulkAddTasks:ie,bulkConvertToSubtasks:le,bulkAssignCategories:d}=ls(),Te=new URLSearchParams(p.search),ns=Te.get("tab"),ds=Te.get("categoryId"),os=ns||"all",[cs,Se]=r.useState(!1),[ne,de]=r.useState(null),[xs,oe]=r.useState(!1),[ms,ce]=r.useState(!1),[q,hs]=r.useState(!1),[i,j]=r.useState(new Set),[gs,Q]=r.useState(!1),[ze,Ae]=r.useState(null),[f,xe]=r.useState(null),[v,me]=r.useState(null),[us,G]=r.useState(!1),[E,Y]=r.useState(null),[,ps]=r.useState([]),[js,Z]=r.useState(!1),[A,$]=r.useState([]),[he,O]=r.useState("add"),[ge,De]=r.useState(!1),[ue,Me]=r.useState(!1),[D,Pe]=r.useState(null),[L,Ie]=r.useState(ds),[Fe,ks]=r.useState(!1),[m,C]=r.useState(os),[n,M]=r.useState("dueDate"),[g,u]=r.useState("asc"),[K,Be]=r.useState(!1),pe=r.useRef(null),[w,U]=r.useState("smart"),[je,ys]=r.useState("medium"),[W,Ee]=r.useState(!1);r.useEffect(()=>{if(N){oe(!0);const s=setTimeout(()=>{oe(!1)},5e3);return()=>clearTimeout(s)}},[N]),r.useEffect(()=>{m==="deleted"&&bs()},[m]),r.useEffect(()=>{const s=t=>{pe.current&&!pe.current.contains(t.target)&&Be(!1)};return K&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[K]);const bs=()=>{const s=Gs();ps(s.sort((t,a)=>new Date(a.deletedAt).getTime()-new Date(t.deletedAt).getTime()))},V=s=>{de(s||null),Se(!0)},$e=()=>{Se(!1),de(null)},Oe=s=>{b(s)},fs=()=>{F(),oe(!1)},Le=()=>{ks(!Fe)},vs=()=>{De(!1),Me(!1),Pe(null),Ie(null)},ws=()=>{x.filter(t=>t.completed&&!t.archived).length>0&&ce(!0)},Ue=()=>{ce(!1)},Ns=()=>{B(),ce(!1)},We=s=>{xe(s)},Cs=async s=>{if(f){const t=s.map(a=>({...a,parentTaskId:f.id,projectId:f.projectId,categoryIds:f.categoryIds||[],dueDate:a.dueDate||f.dueDate||null,priority:a.priority||f.priority||"medium",energyLevel:a.energyLevel||f.energyLevel,estimatedMinutes:a.estimatedMinutes,tags:a.tags||[]}));ie(t),xe(null)}},Ts=()=>{xe(null)},Re=s=>{me(s)},Ss=async(s,t)=>{if(v)try{const a=await addProject(s),k=x.filter(c=>c.parentTaskId===v.id);if(t.moveToProject&&await updateTask({...v,projectId:a.id,parentTaskId:null}),t.includeSubtasks&&k.length>0)for(const c of k)await updateTask({...c,projectId:a.id,parentTaskId:t.moveToProject?v.id:null});if(t.createPhases){const c=["Planning","Execution","Review"];for(const[te,T]of c.entries())await addTask({title:`${T} Phase`,description:`${T} phase for ${a.name}`,projectId:a.id,phase:T,phaseOrder:te,tags:[T.toLowerCase()],completed:!1,archived:!1,categoryIds:v.categoryIds||[],dueDate:null,startDate:null,parentTaskId:null,priority:"medium",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}t.deleteOriginalTask&&!t.moveToProject&&await b(v.id),me(null)}catch(a){console.error("Failed to convert task to project:",a)}},zs=()=>{me(null)},He=s=>{const t=new Set(i);t.has(s)?t.delete(s):t.add(s),j(t)},As=()=>{const s=new Set(Ge().map(t=>t.id));j(s)},Ds=()=>{j(new Set)},Ms=()=>{i.size>0&&(S(Array.from(i)),j(new Set))},Ps=()=>{i.size>0&&(re(Array.from(i)),j(new Set))},Is=()=>{Q(!0)},Fs=()=>{i.size>0&&(o(Array.from(i),ze),j(new Set),Q(!1),Ae(null))},Bs=()=>{i.size>0&&(z(Array.from(i)),j(new Set))},Es=()=>{G(!0)},$s=()=>{i.size>0&&E&&(le(Array.from(i),E),j(new Set),G(!1),Y(null))},Os=()=>{Z(!0)},Ls=()=>{i.size>0&&A.length>0&&(d(Array.from(i),A,he),j(new Set),Z(!1),$([]),O("add"))},qe=()=>{const s=new Date;return s.setDate(s.getDate()+1),Ze(s)},Us=s=>{const t=qe();return s.filter(a=>a.dueDate===t&&!a.completed&&!a.archived)},P=s=>W?ht(s,w,je):[...s].sort((a,k)=>{var te,T;let c=0;switch(n){case"dueDate":!a.dueDate&&!k.dueDate?c=0:a.dueDate?k.dueDate?c=a.dueDate.localeCompare(k.dueDate):c=-1:c=1;break;case"priority":const Ye={high:3,medium:2,low:1};c=(Ye[k.priority||"medium"]||2)-(Ye[a.priority||"medium"]||2);break;case"createdAt":c=new Date(k.createdAt).getTime()-new Date(a.createdAt).getTime();break;case"title":c=a.title.localeCompare(k.title);break;case"estimatedMinutes":const Ws=a.estimatedMinutes||0;c=(k.estimatedMinutes||0)-Ws;break;case"project":const Rs=((te=y.find(we=>we.id===a.projectId))==null?void 0:te.name)||"",Hs=((T=y.find(we=>we.id===k.projectId))==null?void 0:T.name)||"";c=Rs.localeCompare(Hs);break}return g==="asc"?c:-c}),R=s=>{var t;return!(D&&s.projectId!==D||L&&!((t=s.categoryIds)!=null&&t.includes(L)))},X=Ys(x).filter(s=>!s.archived).filter(R),J=Zs(x).filter(s=>!s.archived).filter(R),_=Us(x).filter(R),ee=Ks(x).filter(s=>s.dueDate!==Ze(new Date)&&s.dueDate!==qe()).filter(s=>!s.archived).filter(R),Qe=x.filter(s=>(ge||!s.completed)&&(ue||!s.archived)&&(!s.dueDate||!X.some(t=>t.id===s.id)&&!J.some(t=>t.id===s.id)&&!_.some(t=>t.id===s.id)&&!ee.some(t=>t.id===s.id))).filter(R),se=P(X),ke=P(J),ye=P(_),be=P(ee),Ge=()=>{switch(m){case"today":return ke;case"tomorrow":return ye;case"week":return be;case"overdue":return se;case"all":const s=[...X,...J,..._,...ee,...Qe];return P(s);default:const t=[...X,...J,..._,...ee,...Qe];return P(t)}},fe=Ge(),ve=fe.filter(s=>!s.parentTaskId);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Tasks"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[fe.length," task",fe.length!==1?"s":"",(D||L)&&" (filtered)",i.size>0&&` â€¢ ${i.size} selected`,n!=="dueDate"&&` â€¢ Sorted by ${n==="createdAt"?"created date":n==="estimatedMinutes"?"time estimate":n}`]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[e.jsx(l,{variant:q?"secondary":"outline",onClick:()=>hs(!q),children:q?"Hide Bulk Actions":"Bulk Actions"}),e.jsx(l,{variant:"secondary",icon:e.jsx(Ke,{size:16}),onClick:ws,children:"Archive Completed"}),e.jsx(l,{variant:W?"primary":"secondary",icon:e.jsx(Ve,{size:16}),onClick:()=>Ee(!W),children:"Smart Sort"}),e.jsxs("div",{className:"relative",ref:pe,children:[e.jsx(l,{variant:"secondary",icon:e.jsx(Vs,{size:16}),onClick:()=>Be(!K),children:W?"Legacy Sort":"Sort"}),K&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 z-10",children:e.jsxs("div",{className:"py-1",role:"menu",children:[e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="dueDate"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="dueDate"?u(g==="asc"?"desc":"asc"):(M("dueDate"),u("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Xe,{size:16,className:"mr-2"}),"Due Date"]}),n==="dueDate"&&e.jsx("span",{className:"text-xs",children:g==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="priority"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="priority"?u(g==="asc"?"desc":"asc"):(M("priority"),u("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Xs,{size:16,className:"mr-2"}),"Priority"]}),n==="priority"&&e.jsx("span",{className:"text-xs",children:g==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="createdAt"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="createdAt"?u(g==="asc"?"desc":"asc"):(M("createdAt"),u("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ne,{size:16,className:"mr-2"}),"Created Date"]}),n==="createdAt"&&e.jsx("span",{className:"text-xs",children:g==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="title"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="title"?u(g==="asc"?"desc":"asc"):(M("title"),u("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Js,{size:16,className:"mr-2"}),"Title"]}),n==="title"&&e.jsx("span",{className:"text-xs",children:g==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="estimatedMinutes"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="estimatedMinutes"?u(g==="asc"?"desc":"asc"):(M("estimatedMinutes"),u("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(_s,{size:16,className:"mr-2"}),"Time Estimate"]}),n==="estimatedMinutes"&&e.jsx("span",{className:"text-xs",children:g==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="project"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="project"?u(g==="asc"?"desc":"asc"):(M("project"),u("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(et,{size:16,className:"mr-2"}),"Project"]}),n==="project"&&e.jsx("span",{className:"text-xs",children:g==="asc"?"â†‘":"â†“"})]})]})})]}),e.jsx(l,{variant:"secondary",icon:e.jsx(st,{size:16}),onClick:Le,children:"Filter"}),e.jsx(l,{variant:"primary",icon:e.jsx(Ne,{size:16}),onClick:()=>V(),children:"New Task"})]})]}),q&&e.jsx(Ce,{className:"bg-indigo-50",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{size:"sm",variant:"outline",onClick:As,children:"Select All"}),e.jsx(l,{size:"sm",variant:"outline",onClick:Ds,children:"Deselect All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[i.size," selected"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{size:"sm",variant:"primary",icon:e.jsx(tt,{size:14}),onClick:Ps,disabled:i.size===0,children:"Complete"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(Je,{size:14}),onClick:Is,disabled:i.size===0,children:"Move"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(_e,{size:14}),onClick:Os,disabled:i.size===0,children:"Categories"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(ae,{size:14}),onClick:Es,disabled:i.size===0,children:"Make Subtasks"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(at,{size:14}),onClick:Bs,disabled:i.size===0,children:"Archive"}),e.jsx(l,{size:"sm",variant:"danger",icon:e.jsx(es,{size:14}),onClick:Ms,disabled:i.size===0,children:"Delete"})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx(rt,{placeholder:"Add a task quickly... (try !today, !tomorrow, !high)",defaultProjectId:D,onTaskAdded:()=>{m==="today"||m==="all"||C("all")}})}),e.jsx("div",{className:"overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:e.jsxs("div",{className:"flex min-w-max border-b border-gray-200",children:[e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${m==="today"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>C("today"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["Today",ke.length>0&&` (${ke.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${m==="tomorrow"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>C("tomorrow"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(as,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["Tomorrow",ye.length>0&&` (${ye.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${m==="week"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>C("week"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(as,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["This Week",be.length>0&&` (${be.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${m==="overdue"?"border-red-500 text-red-600 bg-red-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>C("overdue"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(it,{size:16,className:se.length>0?"text-red-500":""}),e.jsxs("span",{className:"whitespace-nowrap",children:["Overdue",se.length>0&&` (${se.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${m==="all"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>C("all"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{size:16}),e.jsx("span",{className:"whitespace-nowrap",children:"All Tasks"})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${m==="deleted"?"border-gray-500 text-gray-600 bg-gray-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>C("deleted"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(es,{size:16}),e.jsx("span",{className:"whitespace-nowrap",children:"Deleted"})]})})]})}),e.jsx("style",{children:`
        .hide-scrollbar {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        .hide-scrollbar::-webkit-scrollbar {
          display: none;  /* Chrome, Safari, Opera */
        }
      `}),xs&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-3 z-50",children:[e.jsx("span",{children:"Task deleted"}),e.jsx(l,{variant:"secondary",size:"sm",icon:e.jsx(gt,{size:14}),onClick:fs,children:"Undo"})]}),Fe&&e.jsx(Ce,{className:"bg-gray-50",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",onClick:Le,children:e.jsx(ss,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Status"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showCompleted",checked:ge,onChange:()=>De(!ge),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showCompleted",className:"ml-2 text-sm text-gray-700",children:"Show completed tasks"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showArchived",checked:ue,onChange:()=>Me(!ue),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showArchived",className:"ml-2 text-sm text-gray-700",children:"Show archived tasks"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"projectFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project"}),e.jsxs("select",{id:"projectFilter",value:D||"",onChange:s=>Pe(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Projects"}),y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"categoryFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{id:"categoryFilter",value:L||"",onChange:s=>Ie(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Categories"}),h.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{variant:"secondary",size:"sm",onClick:vs,children:"Clear Filters"})})]})}),W&&e.jsx(Ce,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[e.jsx(Ve,{size:20,className:"mr-2 text-purple-600 dark:text-purple-400"}),"Smart Task Prioritization"]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",onClick:()=>Ee(!1),children:e.jsx(ss,{size:20})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(lt,{size:16,className:"inline mr-1"}),"Your Current Energy Level"]}),e.jsx("div",{className:"flex gap-2",children:["low","medium","high"].map(s=>e.jsxs("button",{onClick:()=>ys(s),className:`px-4 py-2 rounded-lg font-medium transition-all ${je===s?"bg-purple-600 text-white shadow-lg scale-105":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20"}`,children:[s==="low"&&"ðŸ”‹ Low",s==="medium"&&"ðŸ”‹ðŸ”‹ Medium",s==="high"&&"ðŸ”‹ðŸ”‹ðŸ”‹ High"]},s))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(nt,{size:16,className:"inline mr-1"}),"Prioritization Strategy"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{mode:"smart",label:"ðŸ§  Smart Sort",desc:"AI-optimized task ordering"},{mode:"energymatch",label:"ðŸ”‹ Energy Match",desc:"Only matching tasks"},{mode:"quickwins",label:"âš¡ Quick Wins",desc:"Build momentum"},{mode:"eatthefrog",label:"ðŸ¸ Eat the Frog",desc:"Hard tasks first"},{mode:"deadline",label:"â° Deadline Focus",desc:"Due date priority"},{mode:"priority",label:"â­ Priority",desc:"Traditional priority"}].map(({mode:s,label:t,desc:a})=>e.jsxs("button",{onClick:()=>U(s),className:`p-3 rounded-lg text-left transition-all ${w===s?"bg-purple-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 border border-gray-200 dark:border-gray-700"}`,children:[e.jsx("div",{className:"font-medium text-sm",children:t}),e.jsx("div",{className:`text-xs mt-1 ${w===s?"text-purple-100":"text-gray-500 dark:text-gray-400"}`,children:a})]},s))})]}),(()=>{const s=dt(x,je),t=x.filter(a=>!a.completed&&!a.archived);return e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 w-full",children:["Quick Filters (",t.length," active tasks):"]}),e.jsxs("button",{onClick:()=>U("quickwins"),className:`px-3 py-1 rounded-full text-sm transition-all ${w==="quickwins"?"bg-green-500 text-white":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/30"}`,children:["âš¡ Quick Wins (",s.quickWins,")"]}),e.jsxs("button",{onClick:()=>U("deadline"),className:`px-3 py-1 rounded-full text-sm transition-all ${w==="deadline"?"bg-red-500 text-white":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/30"}`,children:["ðŸ”¥ Due Today (",s.dueToday,")"]}),e.jsxs("button",{onClick:()=>U("eatthefrog"),className:`px-3 py-1 rounded-full text-sm transition-all ${w==="eatthefrog"?"bg-orange-500 text-white":"bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-900/30"}`,children:["ðŸ’ª High Energy (",s.highEnergy,")"]}),s.energyMatch>0&&e.jsxs("button",{onClick:()=>U("energymatch"),className:`px-3 py-1 rounded-full text-sm transition-all ${w==="energymatch"?"bg-blue-500 text-white":"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/30"}`,children:["ðŸ”‹ Energy Match (",s.energyMatch,")"]})]})})(),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Current Strategy: ",ts(w).name]}),e.jsx("p",{children:ts(w).description})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:e.jsx("div",{className:"space-y-4",children:ve.length>0?e.jsx("div",{children:m==="all"?e.jsx("div",{className:"space-y-2",children:ve.map(s=>e.jsx(rs,{task:s,isSelected:i.has(s.id),onSelectChange:t=>{if(t)He(s.id);else{const a=new Set(i);a.delete(s.id),j(a)}},onEdit:V,onDelete:Oe,onBreakdown:We,onConvertToProject:Re},s.id))}):e.jsx("div",{className:"space-y-2",children:ve.map(s=>e.jsx(rs,{task:s,isSelected:i.has(s.id),onSelectChange:t=>{if(t)He(s.id);else{const a=new Set(i);a.delete(s.id),j(a)}},onEdit:V,onDelete:Oe,onBreakdown:We,onConvertToProject:Re},s.id))})}):e.jsx(ot,{title:"No tasks found",description:D||L?"Try adjusting your filters or create a new task":m==="today"?"No tasks due today. Add a task or check another tab.":m==="tomorrow"?"No tasks due tomorrow. Add a task or check another tab.":m==="week"?"No tasks due this week. Add a task or check another tab.":m==="overdue"?"No overdue tasks. You're all caught up!":"Get started by creating your first task",action:e.jsx(l,{variant:"primary",size:"sm",icon:e.jsx(Ne,{size:16}),onClick:()=>V(),children:"New Task"})})})}),e.jsx(I,{isOpen:cs,onClose:$e,title:ne?"Edit Task":"Create New Task",size:"3xl",children:e.jsx(ct,{task:ne||void 0,onClose:$e,isEdit:!!ne})}),e.jsx(I,{isOpen:ms,onClose:Ue,title:"Archive Completed Tasks",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"This will archive all completed tasks. Archived tasks will be hidden by default but can still be viewed using the filter."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:Ue,children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(Ke,{size:16}),onClick:Ns,children:"Archive Tasks"})]})]})}),e.jsx(I,{isOpen:gs,onClose:()=>Q(!1),title:"Move Selected Tasks",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Move ",i.size," selected task",i.size!==1?"s":""," to:"]}),e.jsxs("select",{value:ze||"",onChange:s=>Ae(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"No Project"}),y.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>Q(!1),children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(Je,{size:16}),onClick:Fs,children:"Move Tasks"})]})]})}),f&&e.jsx(xt,{task:f,onAccept:Cs,onClose:Ts}),v&&e.jsx(ut,{task:v,onConfirm:Ss,onCancel:zs,subtasks:x.filter(s=>s.parentTaskId===v.id)}),e.jsx(I,{isOpen:us,onClose:()=>{G(!1),Y(null)},title:"Convert to Subtasks",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Convert ",i.size," selected task",i.size!==1?"s":""," into subtasks of:"]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2 border rounded-md p-3",children:x.filter(s=>!s.completed&&!s.archived&&!i.has(s.id)).map(s=>{var t;return e.jsxs("label",{className:`flex items-start p-3 rounded-lg cursor-pointer transition-colors ${E===s.id?"bg-indigo-50 border-2 border-indigo-500":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[e.jsx("input",{type:"radio",name:"parentTask",value:s.id,checked:E===s.id,onChange:()=>Y(s.id),className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.title}),s.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:s.description}),s.projectId&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Project: ",(t=y.find(a=>a.id===s.projectId))==null?void 0:t.name]})]})]},s.id)})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>{G(!1),Y(null)},children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(ae,{size:16}),onClick:$s,disabled:!E,children:"Convert to Subtasks"})]})]})}),e.jsx(I,{isOpen:js,onClose:()=>{Z(!1),$([]),O("add")},title:"Assign Categories",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Assign categories to ",i.size," selected task",i.size!==1?"s":"",":"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assignment Mode"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"add",checked:he==="add",onChange:()=>O("add"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Add to existing categories"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"replace",checked:he==="replace",onChange:()=>O("replace"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Replace all existing categories"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Categories"}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border rounded-md p-3",children:h.map(s=>e.jsxs("label",{className:"flex items-center p-2 rounded hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:A.includes(s.id),onChange:t=>{t.target.checked?$([...A,s.id]):$(A.filter(a=>a!==s.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx("div",{className:"h-4 w-4 rounded mr-2",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-sm text-gray-900",children:s.name})]})]},s.id))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>{Z(!1),$([]),O("add")},children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(_e,{size:16}),onClick:Ls,disabled:A.length===0,children:"Assign Categories"})]})]})})]})};export{kt as default};
//# sourceMappingURL=TasksPageWithBulkOps-db26d4d7.js.map
