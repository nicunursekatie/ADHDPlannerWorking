import{c as Ze,u as Us,a as Ws,b as Xe,r as i,g as Hs,d as Rs,e as qs,f as Qs,h as Le,j as e,B as l,A as Vs,i as Ue,k as Gs,C as We,S as Ys,P as ue,H as Zs,l as Xs,F as Js,m as Ks,n as pe,o as _s,p as He,T as Re,L as ye,q as et,s as qe,Q as st,t as tt,X as Qe,v as at,Z as rt,w as it,x as Ve,E as nt,M as X,y as lt,z as ot,D as dt,G as ct,I as mt}from"./main-acce8542.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Ze("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ze("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]),Ye=({task:T,isSelected:b,onSelectChange:J,onEdit:c,onDelete:k,onBreakdown:B,onConvertToProject:$})=>{const{updateTask:K}=Xe();return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-2 top-4 z-10",children:e.jsx("input",{type:"checkbox",checked:b,onChange:F=>J(F.target.checked),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),e.jsx("div",{className:"ml-8",children:e.jsx(ct,{task:T,onToggle:()=>K({...T,completed:!T.completed}),onEdit:c,onDelete:k,onBreakdown:B,onConvertToProject:$})})]})},yt=()=>{const T=Us(),{confirm:b,ConfirmDialogComponent:J}=Ws(),{tasks:c,projects:k,categories:B,deleteTask:$,undoDelete:K,hasRecentlyDeleted:F,archiveCompletedTasks:ht,bulkDeleteTasks:Je,bulkCompleteTasks:Ke,bulkMoveTasks:_e,bulkArchiveTasks:es,bulkAddTasks:ss,bulkConvertToSubtasks:ts,bulkAssignCategories:as}=Xe(),ke=new URLSearchParams(T.search),rs=ke.get("tab"),is=ke.get("categoryId"),ns=rs||"all",[ls,fe]=i.useState(!1),[_,ee]=i.useState(null),[os,se]=i.useState(!1),[gt,ds]=i.useState(!1),[E,cs]=i.useState(!1),[r,h]=i.useState(new Set),[ms,O]=i.useState(!1),[je,be]=i.useState(null),[u,te]=i.useState(null),[p,ae]=i.useState(null),[xs,L]=i.useState(!1),[S,U]=i.useState(null),[,hs]=i.useState([]),[gs,W]=i.useState(!1),[v,z]=i.useState([]),[re,A]=i.useState("add"),[ie,ve]=i.useState(!1),[ne,we]=i.useState(!1),[w,Ne]=i.useState(null),[D,Ce]=i.useState(is),[Te,us]=i.useState(!1),[d,f]=i.useState(ns),[n,N]=i.useState("dueDate"),[m,x]=i.useState("asc"),[H,Se]=i.useState(!1),le=i.useRef(null),[y,M]=i.useState("smart"),[oe,ps]=i.useState("medium"),[I,ze]=i.useState(!1);i.useEffect(()=>{if(F){se(!0);const s=setTimeout(()=>{se(!1)},5e3);return()=>clearTimeout(s)}},[F]),i.useEffect(()=>{d==="deleted"&&ys()},[d]),i.useEffect(()=>{const s=t=>{le.current&&!le.current.contains(t.target)&&Se(!1)};return H&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[H]);const ys=()=>{const s=Hs();hs(s.sort((t,a)=>new Date(a.deletedAt).getTime()-new Date(t.deletedAt).getTime()))},R=s=>{ee(s||null),fe(!0)},Ae=()=>{fe(!1),ee(null)},De=s=>{$(s)},ks=()=>{K(),se(!1)},Me=()=>{us(!Te)},fs=()=>{ve(!1),we(!1),Ne(null),Ce(null)},js=()=>{c.filter(t=>t.completed&&!t.archived).length>0&&ds(!0)},Ie=s=>{te(s)},bs=async s=>{if(u){const t=s.map(a=>({...a,parentTaskId:u.id,projectId:u.projectId,categoryIds:u.categoryIds||[],dueDate:a.dueDate||u.dueDate||null,priority:a.priority||u.priority||"medium",energyLevel:a.energyLevel||u.energyLevel,estimatedMinutes:a.estimatedMinutes,tags:a.tags||[]}));ss(t),te(null)}},vs=()=>{te(null)},Pe=s=>{ae(s)},ws=async(s,t)=>{if(p)try{const a=await addProject(s),g=c.filter(o=>o.parentTaskId===p.id);if(t.moveToProject&&await updateTask({...p,projectId:a.id,parentTaskId:null}),t.includeSubtasks&&g.length>0)for(const o of g)await updateTask({...o,projectId:a.id,parentTaskId:t.moveToProject?p.id:null});if(t.createPhases){const o=["Planning","Execution","Review"];for(const[Z,j]of o.entries())await addTask({title:`${j} Phase`,description:`${j} phase for ${a.name}`,projectId:a.id,phase:j,phaseOrder:Z,tags:[j.toLowerCase()],completed:!1,archived:!1,categoryIds:p.categoryIds||[],dueDate:null,startDate:null,parentTaskId:null,priority:"medium",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}t.deleteOriginalTask&&!t.moveToProject&&await $(p.id),ae(null)}catch(a){console.error("Failed to convert task to project:",a)}},Ns=()=>{ae(null)},Be=s=>{const t=new Set(r);t.has(s)?t.delete(s):t.add(s),h(t)},Cs=()=>{const s=new Set(Ee().map(t=>t.id));h(s)},Ts=()=>{h(new Set)},Ss=async()=>{if(r.size===0)return;await b({title:"Delete Tasks",message:`Are you sure you want to delete ${r.size} task${r.size>1?"s":""}?

This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",confirmButtonVariant:"danger"})&&(Je(Array.from(r)),h(new Set))},zs=async()=>{if(r.size===0)return;await b({title:"Complete Tasks",message:`Mark ${r.size} task${r.size>1?"s":""} as completed?`,confirmText:"Complete",cancelText:"Cancel",variant:"info",confirmButtonVariant:"primary"})&&(Ke(Array.from(r)),h(new Set))},As=()=>{O(!0)},Ds=()=>{r.size>0&&(_e(Array.from(r),je),h(new Set),O(!1),be(null))},Ms=async()=>{if(r.size===0)return;await b({title:"Archive Tasks",message:`Archive ${r.size} task${r.size>1?"s":""}?

Archived tasks will be hidden from your main views but can be accessed later.`,confirmText:"Archive",cancelText:"Cancel",variant:"info",confirmButtonVariant:"primary"})&&(es(Array.from(r)),h(new Set))},Is=()=>{L(!0)},Ps=()=>{r.size>0&&S&&(ts(Array.from(r),S),h(new Set),L(!1),U(null))},Bs=()=>{W(!0)},$s=()=>{r.size>0&&v.length>0&&(as(Array.from(r),v,re),h(new Set),W(!1),z([]),A("add"))},$e=()=>{const s=new Date;return s.setDate(s.getDate()+1),Le(s)},Fs=s=>{const t=$e();return s.filter(a=>a.dueDate===t&&!a.completed&&!a.archived)},C=s=>I?mt(s,y,oe):[...s].sort((a,g)=>{var Z,j;let o=0;switch(n){case"dueDate":!a.dueDate&&!g.dueDate?o=0:a.dueDate?g.dueDate?o=a.dueDate.localeCompare(g.dueDate):o=-1:o=1;break;case"priority":const Oe={high:3,medium:2,low:1};o=(Oe[g.priority||"medium"]||2)-(Oe[a.priority||"medium"]||2);break;case"createdAt":o=new Date(g.createdAt).getTime()-new Date(a.createdAt).getTime();break;case"title":o=a.title.localeCompare(g.title);break;case"estimatedMinutes":const Es=a.estimatedMinutes||0;o=(g.estimatedMinutes||0)-Es;break;case"project":const Os=((Z=k.find(ge=>ge.id===a.projectId))==null?void 0:Z.name)||"",Ls=((j=k.find(ge=>ge.id===g.projectId))==null?void 0:j.name)||"";o=Os.localeCompare(Ls);break}return m==="asc"?o:-o}),P=s=>{var t;return!(w&&s.projectId!==w||D&&!((t=s.categoryIds)!=null&&t.includes(D)))},q=Rs(c).filter(s=>!s.archived).filter(P),Q=qs(c).filter(s=>!s.archived).filter(P),V=Fs(c).filter(P),G=Qs(c).filter(s=>s.dueDate!==Le(new Date)&&s.dueDate!==$e()).filter(s=>!s.archived).filter(P),Fe=c.filter(s=>(ie||!s.completed)&&(ne||!s.archived)&&(!s.dueDate||!q.some(t=>t.id===s.id)&&!Q.some(t=>t.id===s.id)&&!V.some(t=>t.id===s.id)&&!G.some(t=>t.id===s.id))).filter(P),Y=C(q),de=C(Q),ce=C(V),me=C(G),Ee=()=>{switch(d){case"today":return de;case"tomorrow":return ce;case"week":return me;case"overdue":return Y;case"all":const s=[...q,...Q,...V,...G,...Fe];return C(s);default:const t=[...q,...Q,...V,...G,...Fe];return C(t)}},xe=Ee(),he=xe.filter(s=>!s.parentTaskId);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Tasks"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[xe.length," task",xe.length!==1?"s":"",(w||D)&&" (filtered)",r.size>0&&` â€¢ ${r.size} selected`,n!=="dueDate"&&` â€¢ Sorted by ${n==="createdAt"?"created date":n==="estimatedMinutes"?"time estimate":n}`]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex flex-wrap gap-2",children:[e.jsx(l,{variant:E?"secondary":"outline",onClick:()=>cs(!E),children:E?"Hide Bulk Actions":"Bulk Actions"}),e.jsx(l,{variant:"secondary",icon:e.jsx(Vs,{size:16}),onClick:js,children:"Archive Completed"}),e.jsx(l,{variant:I?"primary":"secondary",icon:e.jsx(Ue,{size:16}),onClick:()=>ze(!I),children:"Smart Sort"}),e.jsxs("div",{className:"relative",ref:le,children:[e.jsx(l,{variant:"secondary",icon:e.jsx(Gs,{size:16}),onClick:()=>Se(!H),children:I?"Legacy Sort":"Sort"}),H&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black dark:ring-gray-600 ring-opacity-5 z-10",children:e.jsxs("div",{className:"py-1",role:"menu",children:[e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="dueDate"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="dueDate"?x(m==="asc"?"desc":"asc"):(N("dueDate"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(We,{size:16,className:"mr-2"}),"Due Date"]}),n==="dueDate"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="priority"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="priority"?x(m==="asc"?"desc":"asc"):(N("priority"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ys,{size:16,className:"mr-2"}),"Priority"]}),n==="priority"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="createdAt"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="createdAt"?x(m==="asc"?"desc":"asc"):(N("createdAt"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(ue,{size:16,className:"mr-2"}),"Created Date"]}),n==="createdAt"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="title"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="title"?x(m==="asc"?"desc":"asc"):(N("title"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Zs,{size:16,className:"mr-2"}),"Title"]}),n==="title"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="estimatedMinutes"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="estimatedMinutes"?x(m==="asc"?"desc":"asc"):(N("estimatedMinutes"),x("desc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Xs,{size:16,className:"mr-2"}),"Time Estimate"]}),n==="estimatedMinutes"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"â†‘":"â†“"})]}),e.jsxs("button",{className:`w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center justify-between ${n==="project"?"bg-indigo-50 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300":"text-gray-700 dark:text-gray-300"}`,onClick:()=>{n==="project"?x(m==="asc"?"desc":"asc"):(N("project"),x("asc"))},children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Js,{size:16,className:"mr-2"}),"Project"]}),n==="project"&&e.jsx("span",{className:"text-xs",children:m==="asc"?"â†‘":"â†“"})]})]})})]}),e.jsx(l,{variant:"secondary",icon:e.jsx(Ks,{size:16}),onClick:Me,children:"Filter"}),e.jsx(l,{variant:"primary",icon:e.jsx(ue,{size:16}),onClick:()=>R(),children:"New Task"})]})]}),E&&e.jsx(pe,{className:"bg-indigo-50",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{size:"sm",variant:"outline",onClick:Cs,children:"Select All"}),e.jsx(l,{size:"sm",variant:"outline",onClick:Ts,children:"Deselect All"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[r.size," selected"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{size:"sm",variant:"primary",icon:e.jsx(_s,{size:14}),onClick:zs,disabled:r.size===0,children:"Complete"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(He,{size:14}),onClick:As,disabled:r.size===0,children:"Move"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(Re,{size:14}),onClick:Bs,disabled:r.size===0,children:"Categories"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(ye,{size:14}),onClick:Is,disabled:r.size===0,children:"Make Subtasks"}),e.jsx(l,{size:"sm",variant:"secondary",icon:e.jsx(et,{size:14}),onClick:Ms,disabled:r.size===0,children:"Archive"}),e.jsx(l,{size:"sm",variant:"danger",icon:e.jsx(qe,{size:14}),onClick:Ss,disabled:r.size===0,children:"Delete"})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx(st,{placeholder:"Add a task quickly... (try !today, !tomorrow, !high)",defaultProjectId:w,onTaskAdded:()=>{d==="today"||d==="all"||f("all")}})}),e.jsx("div",{className:"overflow-x-auto pb-1 md:pb-0 hide-scrollbar",children:e.jsxs("div",{className:"flex min-w-max border-b border-gray-200",children:[e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="today"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>f("today"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["Today",de.length>0&&` (${de.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="tomorrow"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>f("tomorrow"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["Tomorrow",ce.length>0&&` (${ce.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="week"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>f("week"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{size:16}),e.jsxs("span",{className:"whitespace-nowrap",children:["This Week",me.length>0&&` (${me.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="overdue"?"border-red-500 text-red-600 bg-red-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>f("overdue"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{size:16,className:Y.length>0?"text-red-500":""}),e.jsxs("span",{className:"whitespace-nowrap",children:["Overdue",Y.length>0&&` (${Y.length})`]})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="all"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>f("all"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ye,{size:16}),e.jsx("span",{className:"whitespace-nowrap",children:"All Tasks"})]})}),e.jsx("button",{className:`flex-shrink-0 px-4 py-2 font-medium text-sm rounded-t-md border-b-2 transition-colors ${d==="deleted"?"border-gray-500 text-gray-600 bg-gray-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>f("deleted"),children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{size:16}),e.jsx("span",{className:"whitespace-nowrap",children:"Deleted"})]})})]})}),e.jsx("style",{children:`
        .hide-scrollbar {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }
        .hide-scrollbar::-webkit-scrollbar {
          display: none;  /* Chrome, Safari, Opera */
        }
      `}),os&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-3 z-50",children:[e.jsx("span",{children:"Task deleted"}),e.jsx(l,{variant:"secondary",size:"sm",icon:e.jsx(xt,{size:14}),onClick:ks,children:"Undo"})]}),Te&&e.jsx(pe,{className:"bg-gray-50",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",onClick:Me,children:e.jsx(Qe,{size:20})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Status"}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showCompleted",checked:ie,onChange:()=>ve(!ie),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showCompleted",className:"ml-2 text-sm text-gray-700",children:"Show completed tasks"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"showArchived",checked:ne,onChange:()=>we(!ne),className:"h-4 w-4 text-indigo-600 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"showArchived",className:"ml-2 text-sm text-gray-700",children:"Show archived tasks"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"projectFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project"}),e.jsxs("select",{id:"projectFilter",value:w||"",onChange:s=>Ne(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Projects"}),k.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"categoryFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{id:"categoryFilter",value:D||"",onChange:s=>Ce(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All Categories"}),B.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(l,{variant:"secondary",size:"sm",onClick:fs,children:"Clear Filters"})})]})}),I&&e.jsx(pe,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 flex items-center",children:[e.jsx(Ue,{size:20,className:"mr-2 text-purple-600 dark:text-purple-400"}),"Smart Task Prioritization"]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-500",onClick:()=>ze(!1),children:e.jsx(Qe,{size:20})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(at,{size:16,className:"inline mr-1"}),"Your Current Energy Level"]}),e.jsx("div",{className:"flex gap-2",children:["low","medium","high"].map(s=>e.jsxs("button",{onClick:()=>ps(s),className:`px-4 py-2 rounded-lg font-medium transition-all ${oe===s?"bg-purple-600 text-white shadow-lg scale-105":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20"}`,children:[s==="low"&&"ðŸ”‹ Low",s==="medium"&&"ðŸ”‹ðŸ”‹ Medium",s==="high"&&"ðŸ”‹ðŸ”‹ðŸ”‹ High"]},s))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(rt,{size:16,className:"inline mr-1"}),"Prioritization Strategy"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[{mode:"smart",label:"ðŸ§  Smart Sort",desc:"AI-optimized task ordering"},{mode:"energymatch",label:"ðŸ”‹ Energy Match",desc:"Only matching tasks"},{mode:"quickwins",label:"âš¡ Quick Wins",desc:"Build momentum"},{mode:"eatthefrog",label:"ðŸ¸ Eat the Frog",desc:"Hard tasks first"},{mode:"deadline",label:"â° Deadline Focus",desc:"Due date priority"},{mode:"priority",label:"â­ Priority",desc:"Traditional priority"}].map(({mode:s,label:t,desc:a})=>e.jsxs("button",{onClick:()=>M(s),className:`p-3 rounded-lg text-left transition-all ${y===s?"bg-purple-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-purple-50 dark:hover:bg-purple-900/20 border border-gray-200 dark:border-gray-700"}`,children:[e.jsx("div",{className:"font-medium text-sm",children:t}),e.jsx("div",{className:`text-xs mt-1 ${y===s?"text-purple-100":"text-gray-500 dark:text-gray-400"}`,children:a})]},s))})]}),(()=>{const s=it(c,oe),t=c.filter(a=>!a.completed&&!a.archived);return e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 w-full",children:["Quick Filters (",t.length," active tasks):"]}),e.jsxs("button",{onClick:()=>M("quickwins"),className:`px-3 py-1 rounded-full text-sm transition-all ${y==="quickwins"?"bg-green-500 text-white":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-900/30"}`,children:["âš¡ Quick Wins (",s.quickWins,")"]}),e.jsxs("button",{onClick:()=>M("deadline"),className:`px-3 py-1 rounded-full text-sm transition-all ${y==="deadline"?"bg-red-500 text-white":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-900/30"}`,children:["ðŸ”¥ Due Today (",s.dueToday,")"]}),e.jsxs("button",{onClick:()=>M("eatthefrog"),className:`px-3 py-1 rounded-full text-sm transition-all ${y==="eatthefrog"?"bg-orange-500 text-white":"bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-900/30"}`,children:["ðŸ’ª High Energy (",s.highEnergy,")"]}),s.energyMatch>0&&e.jsxs("button",{onClick:()=>M("energymatch"),className:`px-3 py-1 rounded-full text-sm transition-all ${y==="energymatch"?"bg-blue-500 text-white":"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 hover:bg-blue-200 dark:hover:bg-blue-900/30"}`,children:["ðŸ”‹ Energy Match (",s.energyMatch,")"]})]})})(),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Current Strategy: ",Ve(y).name]}),e.jsx("p",{children:Ve(y).description})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:e.jsx("div",{className:"space-y-4",children:he.length>0?e.jsx("div",{children:d==="all"?e.jsx("div",{className:"space-y-2",children:he.map(s=>e.jsx(Ye,{task:s,isSelected:r.has(s.id),onSelectChange:t=>{if(t)Be(s.id);else{const a=new Set(r);a.delete(s.id),h(a)}},onEdit:R,onDelete:De,onBreakdown:Ie,onConvertToProject:Pe},s.id))}):e.jsx("div",{className:"space-y-2",children:he.map(s=>e.jsx(Ye,{task:s,isSelected:r.has(s.id),onSelectChange:t=>{if(t)Be(s.id);else{const a=new Set(r);a.delete(s.id),h(a)}},onEdit:R,onDelete:De,onBreakdown:Ie,onConvertToProject:Pe},s.id))})}):e.jsx(nt,{title:"No tasks found",description:w||D?"Try adjusting your filters or create a new task":d==="today"?"No tasks due today. Add a task or check another tab.":d==="tomorrow"?"No tasks due tomorrow. Add a task or check another tab.":d==="week"?"No tasks due this week. Add a task or check another tab.":d==="overdue"?"No overdue tasks. You're all caught up!":"Get started by creating your first task",action:e.jsx(l,{variant:"primary",size:"sm",icon:e.jsx(ue,{size:16}),onClick:()=>R(),children:"New Task"})})})}),e.jsx(X,{isOpen:ls,onClose:Ae,title:_?"Edit Task":"Create New Task",size:"3xl",children:e.jsx(lt,{task:_||void 0,onClose:Ae,isEdit:!!_})}),e.jsx(X,{isOpen:ms,onClose:()=>O(!1),title:"Move Selected Tasks",size:"sm",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Move ",r.size," selected task",r.size!==1?"s":""," to:"]}),e.jsxs("select",{value:je||"",onChange:s=>be(s.target.value||null),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"No Project"}),k.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>O(!1),children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(He,{size:16}),onClick:Ds,children:"Move Tasks"})]})]})}),u&&e.jsx(ot,{task:u,onAccept:bs,onClose:vs}),p&&e.jsx(dt,{task:p,onConfirm:ws,onCancel:Ns,subtasks:c.filter(s=>s.parentTaskId===p.id)}),e.jsx(X,{isOpen:xs,onClose:()=>{L(!1),U(null)},title:"Convert to Subtasks",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Convert ",r.size," selected task",r.size!==1?"s":""," into subtasks of:"]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2 border rounded-md p-3",children:c.filter(s=>!s.completed&&!s.archived&&!r.has(s.id)).map(s=>{var t;return e.jsxs("label",{className:`flex items-start p-3 rounded-lg cursor-pointer transition-colors ${S===s.id?"bg-indigo-50 border-2 border-indigo-500":"bg-gray-50 hover:bg-gray-100 border-2 border-transparent"}`,children:[e.jsx("input",{type:"radio",name:"parentTask",value:s.id,checked:S===s.id,onChange:()=>U(s.id),className:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.title}),s.description&&e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:s.description}),s.projectId&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Project: ",(t=k.find(a=>a.id===s.projectId))==null?void 0:t.name]})]})]},s.id)})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>{L(!1),U(null)},children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(ye,{size:16}),onClick:Ps,disabled:!S,children:"Convert to Subtasks"})]})]})}),e.jsx(X,{isOpen:gs,onClose:()=>{W(!1),z([]),A("add")},title:"Assign Categories",size:"md",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["Assign categories to ",r.size," selected task",r.size!==1?"s":"",":"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assignment Mode"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"add",checked:re==="add",onChange:()=>A("add"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Add to existing categories"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"assignMode",value:"replace",checked:re==="replace",onChange:()=>A("replace"),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Replace all existing categories"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Categories"}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2 border rounded-md p-3",children:B.map(s=>e.jsxs("label",{className:"flex items-center p-2 rounded hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",value:s.id,checked:v.includes(s.id),onChange:t=>{t.target.checked?z([...v,s.id]):z(v.filter(a=>a!==s.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsxs("div",{className:"ml-3 flex items-center",children:[e.jsx("div",{className:"h-4 w-4 rounded mr-2",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-sm text-gray-900",children:s.name})]})]},s.id))})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(l,{variant:"secondary",onClick:()=>{W(!1),z([]),A("add")},children:"Cancel"}),e.jsx(l,{variant:"primary",icon:e.jsx(Re,{size:16}),onClick:$s,disabled:v.length===0,children:"Assign Categories"})]})]})}),e.jsx(J,{})]})};export{yt as default};
//# sourceMappingURL=TasksPageWithBulkOps-9964ba8c.js.map
